<div class="container">
    <mat-card class="container--card">
        <mat-card-title>Регистрация</mat-card-title>
        <mat-card-content>
            <form [formGroup]="registerForm" (ngSubmit)="register()">
                <mat-form-field>
                    <input type="text" formControlName="firstName" matInput placeholder="Име">

                    <mat-icon matSuffix>face</mat-icon>

                    <mat-error *ngFor="let error of registerForm.controls.firstName.errors | error">
                        {{ error }}
                    </mat-error>
                </mat-form-field>

                <mat-form-field>
                    <input type="text" formControlName="lastName" matInput placeholder="Фамилия">

                    <mat-icon matSuffix>create</mat-icon>

                    <mat-error *ngFor="let error of registerForm.controls.lastName.errors | error">
                        {{ error }}
                    </mat-error>
                </mat-form-field>


                <mat-form-field>
                    <input type="text" formControlName="email" matInput placeholder="Имейл">

                    <mat-icon matSuffix>email</mat-icon>

                    <mat-error *ngFor="let error of registerForm.controls.email.errors | error">
                        {{ error }}
                    </mat-error>
                </mat-form-field>

                <mat-form-field>
                    <input [type]="hidePassword ? 'password' : 'text'" matInput formControlName='password'
                        placeholder="Парола">

                    <mat-icon matSuffix (click)="hidePassword = !hidePassword">
                        {{hidePassword ? 'visibility_off' : 'visibility'}}
                    </mat-icon>

                    <mat-error *ngFor="let error of registerForm.controls.password.errors | error">
                        {{ error }}
                    </mat-error>
                </mat-form-field>

                <mat-form-field>
                    <input [type]="hideConfirmPassword ? 'password' : 'text'" matInput formControlName='confirmPassword'
                        placeholder="Повторна парола">

                    <mat-icon matSuffix (click)="hideConfirmPassword = !hideConfirmPassword">
                        {{hideConfirmPassword ? 'visibility_off' : 'visibility'}}
                    </mat-icon>

                    <mat-error *ngFor="let error of registerForm.controls.confirmPassword.errors | error">
                        {{ error }}
                    </mat-error>
                </mat-form-field>

                <mat-form-field>
                    <mat-select formControlName='permission'>
                        <mat-option *ngFor="let role of roles" [value]='role'>
                            {{role | uppercase}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <div class="button">
                    <button type="submit" [disabled]="registerForm.invalid" mat-raised-button color="primary">
                        Потвърди
                    </button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>

<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">
    <p style="color: white">Зареждане...</p>
</ngx-spinner>