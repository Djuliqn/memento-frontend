<app-header></app-header>
<div class="form">
    <mat-card>
        <mat-card-title>Регистрация</mat-card-title>
        <mat-card-content>
            <form [formGroup]="registerForm" (ngSubmit)="register()">
                <mat-form-field>
                    <input type="text" formControlName="firstName" matInput placeholder="Име">

                    <mat-icon matSuffix>face</mat-icon>

                    <mat-error *ngIf="registerForm.get('firstName').hasError('required')">
                        Задължително поле.
                    </mat-error>

                    <mat-error *ngIf="registerForm.get('firstName').hasError('minlength')">
                        Моля въведете минимум 3 символа.
                    </mat-error>
                </mat-form-field>

                <mat-form-field>
                    <input type="text" formControlName="lastName" matInput placeholder="Фамилия">

                    <mat-icon matSuffix>create</mat-icon>

                    <mat-error *ngIf="registerForm.get('lastName').hasError('required')">
                        Задължително поле.
                    </mat-error>

                    <mat-error *ngIf="registerForm.get('lastName').hasError('minlength')">
                        Моля въведете минимум 3 символа.
                    </mat-error>
                </mat-form-field>


                <mat-form-field>
                    <input type="text" formControlName="email" matInput placeholder="Имейл">

                    <mat-icon matSuffix>email</mat-icon>

                    <mat-error *ngIf="registerForm.get('email').hasError('required')">
                        Задължително поле.
                    </mat-error>

                    <mat-error *ngIf="registerForm.get('email').hasError('email')">
                        Моля въведете валиден имейл.
                    </mat-error>
                </mat-form-field>

                <mat-form-field>
                    <input [type]="hidePassword ? 'password' : 'text'" matInput formControlName='password'
                        placeholder="Парола">

                    <mat-icon matSuffix (click)="hidePassword = !hidePassword">
                        {{hidePassword ? 'visibility_off' : 'visibility'}}
                    </mat-icon>

                    <mat-error *ngIf="registerForm.get('password').hasError('required')">
                        Задължително поле.
                    </mat-error>

                    <mat-error *ngIf="registerForm.get('password').hasError('minlength')">
                        Моля добавете най-малко 8 символа.
                    </mat-error>

                    <mat-error *ngIf="registerForm.get('password').hasError('maxlength')">
                        Моля добавете най-малко 20 символа.
                    </mat-error>
                </mat-form-field>

                <mat-form-field>
                    <input [type]="hideConfirmPassword ? 'password' : 'text'" matInput formControlName='confirmPassword'
                        placeholder="Повторна парола">

                    <mat-icon matSuffix (click)="hideConfirmPassword = !hideConfirmPassword">
                        {{hideConfirmPassword ? 'visibility_off' : 'visibility'}}
                    </mat-icon>

                    <mat-error *ngIf="registerForm.get('password').hasError('required')">
                        Задължително поле.
                    </mat-error>

                    <mat-error *ngIf="registerForm.get('password').hasError('minlength')">
                        Моля добавете най-малко 8 символа.
                    </mat-error>

                    <mat-error *ngIf="registerForm.get('password').hasError('maxlength')">
                        Моля добавете най-малко 20 символа.
                    </mat-error>
                </mat-form-field>
                
                <mat-form-field>
                    <mat-select formControlName='permission'>
                        <mat-option *ngFor="let role of roles" [value]='role'>
                          {{role | uppercase}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <div class="button">
                    <button type="submit" [disabled]="registerForm.invalid" mat-raised-button color="primary">
                        Потвърди
                    </button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>